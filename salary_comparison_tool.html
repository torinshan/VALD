<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NCAA Salary Comparison Tool</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            padding: 30px;
        }

        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 10px;
            font-size: 2.5em;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 1.1em;
        }

        .selection-panel {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .school-selector {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            border: 2px solid #e0e0e0;
        }

        .school-selector h2 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .form-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: #555;
            font-weight: 500;
        }

        select, input[type="number"] {
            width: 100%;
            padding: 12px;
            font-size: 16px;
            border: 2px solid #d0d0d0;
            border-radius: 8px;
            background: white;
            outline: none;
            transition: border-color 0.3s;
        }

        select {
            cursor: pointer;
        }

        select:focus, input[type="number"]:focus {
            border-color: #667eea;
        }

        input[type="number"] {
            -moz-appearance: textfield;
        }

        input[type="number"]::-webkit-outer-spin-button,
        input[type="number"]::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        .input-hint {
            font-size: 0.85em;
            color: #888;
            margin-top: 5px;
        }

        .compare-button {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            margin-top: 20px;
        }

        .compare-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .compare-button:active {
            transform: translateY(0);
        }

        .compare-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .results-panel {
            display: none;
            margin-top: 30px;
        }

        .results-panel.active {
            display: block;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .school-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 30px;
            border-radius: 10px;
            color: white;
        }

        .school-card h3 {
            font-size: 1.8em;
            margin-bottom: 20px;
            border-bottom: 2px solid rgba(255, 255, 255, 0.3);
            padding-bottom: 10px;
        }

        .info-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        .info-label {
            font-weight: 500;
            opacity: 0.9;
        }

        .info-value {
            font-weight: 700;
            font-size: 1.1em;
        }

        .salary-value {
            font-size: 1.5em !important;
            color: #ffd700;
        }

        .analysis-section {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            margin-top: 20px;
        }

        .analysis-section h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.5em;
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 15px;
            border-left: 4px solid #667eea;
        }

        .stat-card h4 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .stat-card p {
            color: #555;
            line-height: 1.6;
        }

        .difference-positive {
            color: #22c55e;
            font-weight: 700;
        }

        .difference-negative {
            color: #ef4444;
            font-weight: 700;
        }

        .chart-container {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }

        .bar-chart {
            display: flex;
            gap: 20px;
            align-items: flex-end;
            height: 300px;
            margin-top: 20px;
        }

        .bar {
            flex: 1;
            background: linear-gradient(to top, #667eea 0%, #764ba2 100%);
            border-radius: 8px 8px 0 0;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            align-items: center;
            padding: 10px;
            color: white;
            font-weight: 600;
            transition: all 0.3s;
            position: relative;
        }

        .bar:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .bar-label {
            position: absolute;
            bottom: -30px;
            font-size: 14px;
            color: #333;
            font-weight: 600;
        }

        .footer {
            margin-top: 30px;
            text-align: center;
            color: #888;
            font-size: 0.9em;
        }

        .reset-button {
            padding: 10px 20px;
            background: #6c757d;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 20px;
        }

        .reset-button:hover {
            background: #5a6268;
        }

        @media (max-width: 768px) {
            .selection-panel,
            .comparison-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>NCAA Salary Comparison Tool</h1>
        <p class="subtitle">Compare Annual Salaries Between Two Schools</p>

        <div class="selection-panel">
            <div class="school-selector">
                <h2>School 1</h2>
                <div class="form-group">
                    <label for="school1">Select School:</label>
                    <select id="school1">
                        <option value="">-- Select a School --</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="salary1">Annual Salary ($):</label>
                    <input type="number" id="salary1" placeholder="Enter annual salary" min="0" step="1000">
                    <div class="input-hint">Enter the annual compensation amount</div>
                </div>
            </div>

            <div class="school-selector">
                <h2>School 2</h2>
                <div class="form-group">
                    <label for="school2">Select School:</label>
                    <select id="school2">
                        <option value="">-- Select a School --</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="salary2">Annual Salary ($):</label>
                    <input type="number" id="salary2" placeholder="Enter annual salary" min="0" step="1000">
                    <div class="input-hint">Enter the annual compensation amount</div>
                </div>
            </div>
        </div>

        <button class="compare-button" onclick="compareSchools()">Compare Salaries</button>

        <div class="results-panel" id="resultsPanel">
            <div class="comparison-grid" id="comparisonGrid">
                <!-- Results will be populated by JavaScript -->
            </div>

            <div class="chart-container">
                <h3 style="color: #333; margin-bottom: 15px;">Visual Comparison</h3>
                <div class="bar-chart" id="barChart">
                    <!-- Chart will be populated by JavaScript -->
                </div>
            </div>

            <div class="analysis-section">
                <h3>Salary Analysis</h3>
                <div id="analysisContent">
                    <!-- Analysis will be populated by JavaScript -->
                </div>
            </div>

            <button class="reset-button" onclick="resetComparison()">Reset Comparison</button>
        </div>

        <div class="footer">
            <p>Salary Comparison Tool | Updated 2024</p>
        </div>
    </div>

    <script>
        // Complete list of NCAA Division 1 schools (364 schools)
        const schools = [
            "Abilene Christian", "Air Force", "Akron", "Alabama", "Alabama A&M", "Alabama State",
            "Albany", "Alcorn State", "American", "Appalachian State", "Arizona", "Arizona State",
            "Arkansas", "Arkansas-Pine Bluff", "Arkansas State", "Army", "Auburn", "Austin Peay",
            "Ball State", "Baylor", "Bellarmine", "Belmont", "Bethune-Cookman", "Binghamton",
            "Boise State", "Boston College", "Boston University", "Bowling Green", "Bradley", "Brown",
            "Bryant", "Bucknell", "Buffalo", "Butler", "BYU", "Cal Poly", "Cal State Bakersfield",
            "Cal State Fullerton", "Cal State Northridge", "California", "California Baptist", "Campbell",
            "Canisius", "Central Arkansas", "Central Connecticut", "Central Michigan", "Charleston Southern",
            "Charlotte", "Chattanooga", "Chicago State", "Cincinnati", "Citadel", "Clemson", "Cleveland State",
            "Coastal Carolina", "Colgate", "College of Charleston", "Colorado", "Colorado State", "Columbia",
            "Connecticut", "Coppin State", "Cornell", "Creighton", "Dartmouth", "Davidson", "Dayton",
            "Delaware", "Delaware State", "Denver", "DePaul", "Detroit Mercy", "Drake", "Drexel", "Duke",
            "Duquesne", "East Carolina", "East Tennessee State", "Eastern Illinois", "Eastern Kentucky",
            "Eastern Michigan", "Eastern Washington", "Elon", "Evansville", "Fairfield", "Fairleigh Dickinson",
            "FGCU", "FIU", "Florida", "Florida A&M", "Florida Atlantic", "Florida Gulf Coast", "Florida State",
            "Fordham", "Fresno State", "Furman", "Gardner-Webb", "George Mason", "George Washington",
            "Georgetown", "Georgia", "Georgia Southern", "Georgia State", "Georgia Tech", "Gonzaga",
            "Grambling", "Grand Canyon", "Green Bay", "Hampton", "Hartford", "Harvard", "Hawaii",
            "High Point", "Hofstra", "Holy Cross", "Houston", "Houston Christian", "Howard", "Idaho",
            "Idaho State", "Illinois", "Illinois State", "Incarnate Word", "Indiana", "Indiana State",
            "Iona", "Iowa", "Iowa State", "IUPUI", "Jackson State", "Jacksonville", "Jacksonville State",
            "James Madison", "Kansas", "Kansas City", "Kansas State", "Kennesaw State", "Kent State",
            "Kentucky", "La Salle", "Lafayette", "Lamar", "Le Moyne", "Lehigh", "Liberty", "Lindenwood",
            "Lipscomb", "LIU", "Louisiana", "Louisiana Monroe", "Louisiana Tech", "Louisville", "Loyola Chicago",
            "Loyola Marymount", "Loyola Maryland", "LSU", "Maine", "Manhattan", "Marist", "Marquette",
            "Marshall", "Maryland", "Massachusetts", "McNeese", "Memphis", "Mercer", "Merrimack", "Miami",
            "Miami Ohio", "Michigan", "Michigan State", "Middle Tennessee", "Minnesota", "Mississippi State",
            "Mississippi Valley State", "Missouri", "Missouri State", "Monmouth", "Montana", "Montana State",
            "Morehead State", "Morgan State", "Mount St. Mary's", "Murray State", "Navy", "Nebraska",
            "Nevada", "New Hampshire", "New Mexico", "New Mexico State", "New Orleans", "Niagara",
            "Nicholls", "NJIT", "Norfolk State", "North Alabama", "North Carolina", "North Carolina A&T",
            "North Carolina Central", "North Carolina State", "North Dakota", "North Dakota State", "North Florida",
            "North Texas", "Northeastern", "Northern Arizona", "Northern Colorado", "Northern Illinois",
            "Northern Iowa", "Northern Kentucky", "Northwestern", "Northwestern State", "Notre Dame",
            "Oakland", "Ohio", "Ohio State", "Oklahoma", "Oklahoma State", "Old Dominion", "Ole Miss",
            "Omaha", "Oral Roberts", "Oregon", "Oregon State", "Pacific", "Penn", "Penn State",
            "Pepperdine", "Pittsburgh", "Portland", "Portland State", "Prairie View A&M", "Presbyterian",
            "Princeton", "Providence", "Purdue", "Purdue Fort Wayne", "Queens", "Quinnipiac", "Radford",
            "Rhode Island", "Rice", "Richmond", "Rider", "Robert Morris", "Rutgers", "Sacramento State",
            "Sacred Heart", "Saint Francis", "Saint Joseph's", "Saint Louis", "Saint Mary's", "Saint Peter's",
            "Sam Houston", "Samford", "San Diego", "San Diego State", "San Francisco", "San Jose State",
            "Santa Clara", "Seattle", "Seton Hall", "Siena", "SIU Edwardsville", "South Alabama",
            "South Carolina", "South Carolina State", "South Carolina Upstate", "South Dakota", "South Dakota State",
            "South Florida", "Southeast Missouri State", "Southeastern Louisiana", "Southern", "Southern Illinois",
            "Southern Indiana", "Southern Miss", "Southern Utah", "St. Bonaventure", "St. Francis Brooklyn",
            "St. John's", "St. Thomas", "Stanford", "Stephen F. Austin", "Stetson", "Stonehill", "Stony Brook",
            "Syracuse", "Tarleton State", "TCU", "Temple", "Tennessee", "Tennessee Martin", "Tennessee State",
            "Tennessee Tech", "Texas", "Texas A&M", "Texas A&M-Corpus Christi", "Texas Southern", "Texas State",
            "Texas Tech", "The Citadel", "Toledo", "Towson", "Troy", "Tulane", "Tulsa", "UAB", "UC Davis",
            "UC Irvine", "UC Riverside", "UC San Diego", "UC Santa Barbara", "UCF", "UCLA", "UConn",
            "UIC", "UMass Lowell", "UMBC", "UMKC", "UNC Asheville", "UNC Greensboro", "UNC Wilmington",
            "UNLV", "USC", "USC Upstate", "UT Arlington", "UT Martin", "UT Rio Grande Valley", "UTEP",
            "UTSA", "Utah", "Utah State", "Utah Tech", "Utah Valley", "Valparaiso", "Vanderbilt",
            "VCU", "Vermont", "Villanova", "Virginia", "Virginia Tech", "VMI", "Wagner", "Wake Forest",
            "Washington", "Washington State", "Weber State", "West Virginia", "Western Carolina",
            "Western Illinois", "Western Kentucky", "Western Michigan", "Wichita State", "William & Mary",
            "Winthrop", "Wisconsin", "Wofford", "Wright State", "Wyoming", "Xavier", "Yale", "Youngstown State"
        ];

        // Tax and benefits calculation data
        const stateData = {
            "California": { taxRate: 0.133, col: 1.51 },
            "New York": { taxRate: 0.109, col: 1.49 },
            "Hawaii": { taxRate: 0.110, col: 1.88 },
            "New Jersey": { taxRate: 0.108, col: 1.23 },
            "Oregon": { taxRate: 0.099, col: 1.13 },
            "Minnesota": { taxRate: 0.098, col: 1.03 },
            "District of Columbia": { taxRate: 0.095, col: 1.52 },
            "Iowa": { taxRate: 0.085, col: 0.91 },
            "Wisconsin": { taxRate: 0.076, col: 0.96 },
            "Maine": { taxRate: 0.075, col: 1.02 },
            "Vermont": { taxRate: 0.088, col: 1.09 },
            "Idaho": { taxRate: 0.060, col: 0.92 },
            "South Carolina": { taxRate: 0.070, col: 0.88 },
            "Connecticut": { taxRate: 0.070, col: 1.16 },
            "Montana": { taxRate: 0.069, col: 0.94 },
            "Nebraska": { taxRate: 0.068, col: 0.91 },
            "Kansas": { taxRate: 0.057, col: 0.87 },
            "Delaware": { taxRate: 0.066, col: 1.02 },
            "Rhode Island": { taxRate: 0.060, col: 1.09 },
            "Illinois": { taxRate: 0.050, col: 0.95 },
            "West Virginia": { taxRate: 0.065, col: 0.79 },
            "Missouri": { taxRate: 0.054, col: 0.85 },
            "Georgia": { taxRate: 0.058, col: 0.89 },
            "Oklahoma": { taxRate: 0.050, col: 0.84 },
            "Arkansas": { taxRate: 0.059, col: 0.79 },
            "Virginia": { taxRate: 0.058, col: 1.01 },
            "Utah": { taxRate: 0.050, col: 0.97 },
            "Kentucky": { taxRate: 0.050, col: 0.86 },
            "Louisiana": { taxRate: 0.060, col: 0.87 },
            "New Mexico": { taxRate: 0.059, col: 0.88 },
            "Alabama": { taxRate: 0.050, col: 0.82 },
            "Mississippi": { taxRate: 0.050, col: 0.78 },
            "Michigan": { taxRate: 0.043, col: 0.89 },
            "Ohio": { taxRate: 0.047, col: 0.90 },
            "Colorado": { taxRate: 0.045, col: 1.06 },
            "Arizona": { taxRate: 0.045, col: 0.97 },
            "Indiana": { taxRate: 0.032, col: 0.87 },
            "North Carolina": { taxRate: 0.050, col: 0.90 },
            "Pennsylvania": { taxRate: 0.031, col: 0.96 },
            "Massachusetts": { taxRate: 0.050, col: 1.32 },
            "Maryland": { taxRate: 0.058, col: 1.29 },
            "North Dakota": { taxRate: 0.029, col: 0.94 },
            "Tennessee": { taxRate: 0.010, col: 0.89 },
            "New Hampshire": { taxRate: 0.050, col: 1.11 },
            "Nevada": { taxRate: 0.000, col: 1.00 },
            "Texas": { taxRate: 0.000, col: 0.91 },
            "Florida": { taxRate: 0.000, col: 0.99 },
            "South Dakota": { taxRate: 0.000, col: 0.91 },
            "Wyoming": { taxRate: 0.000, col: 0.91 },
            "Washington": { taxRate: 0.000, col: 1.15 },
            "Alaska": { taxRate: 0.000, col: 1.27 }
        };

        // Map schools to their states
        const schoolToState = {
            "Alabama": "Alabama", "Alabama A&M": "Alabama", "Alabama State": "Alabama", "Auburn": "Auburn",
            "Jacksonville State": "Alabama", "Samford": "Alabama", "South Alabama": "Alabama", "Troy": "Alabama",
            "UAB": "Alabama", "Alaska": "Alaska", "Arizona": "Arizona", "Arizona State": "Arizona",
            "Grand Canyon": "Arizona", "Northern Arizona": "Arizona", "Arkansas": "Arkansas",
            "Arkansas-Pine Bluff": "Arkansas", "Arkansas State": "Arkansas", "Central Arkansas": "Arkansas",
            "Little Rock": "Arkansas", "Abilene Christian": "Texas", "Air Force": "Colorado",
            "Akron": "Ohio", "Albany": "New York", "Alcorn State": "Mississippi", "American": "District of Columbia",
            "Appalachian State": "North Carolina", "Austin Peay": "Tennessee", "Ball State": "Indiana",
            "Baylor": "Texas", "Bellarmine": "Kentucky", "Belmont": "Tennessee", "Bethune-Cookman": "Florida",
            "Binghamton": "New York", "Boise State": "Idaho", "Boston College": "Massachusetts",
            "Boston University": "Massachusetts", "Bowling Green": "Ohio", "Bradley": "Illinois", "Brown": "Rhode Island",
            "Bryant": "Rhode Island", "Bucknell": "Pennsylvania", "Buffalo": "New York", "Butler": "Indiana",
            "BYU": "Utah", "Cal Poly": "California", "Cal State Bakersfield": "California",
            "Cal State Fullerton": "California", "Cal State Northridge": "California", "California": "California",
            "California Baptist": "California", "Campbell": "North Carolina", "Canisius": "New York",
            "Central Connecticut": "Connecticut", "Central Michigan": "Michigan", "Charleston Southern": "South Carolina",
            "Charlotte": "North Carolina", "Chattanooga": "Tennessee", "Chicago State": "Illinois",
            "Cincinnati": "Ohio", "Citadel": "South Carolina", "Clemson": "South Carolina", "Cleveland State": "Ohio",
            "Coastal Carolina": "South Carolina", "Colgate": "New York", "College of Charleston": "South Carolina",
            "Colorado": "Colorado", "Colorado State": "Colorado", "Columbia": "New York", "Connecticut": "Connecticut",
            "Coppin State": "Maryland", "Cornell": "New York", "Creighton": "Nebraska", "Dartmouth": "New Hampshire",
            "Davidson": "North Carolina", "Dayton": "Ohio", "Delaware": "Delaware", "Delaware State": "Delaware",
            "Denver": "Colorado", "DePaul": "Illinois", "Detroit Mercy": "Michigan", "Drake": "Iowa",
            "Drexel": "Pennsylvania", "Duke": "North Carolina", "Duquesne": "Pennsylvania",
            "East Carolina": "North Carolina", "East Tennessee State": "Tennessee", "Eastern Illinois": "Illinois",
            "Eastern Kentucky": "Kentucky", "Eastern Michigan": "Michigan", "Eastern Washington": "Washington",
            "Elon": "North Carolina", "Evansville": "Indiana", "Fairfield": "Connecticut",
            "Fairleigh Dickinson": "New Jersey", "FGCU": "Florida", "FIU": "Florida", "Florida": "Florida",
            "Florida A&M": "Florida", "Florida Atlantic": "Florida", "Florida Gulf Coast": "Florida",
            "Florida State": "Florida", "Fordham": "New York", "Fresno State": "California", "Furman": "South Carolina",
            "Gardner-Webb": "North Carolina", "George Mason": "Virginia", "George Washington": "District of Columbia",
            "Georgetown": "District of Columbia", "Georgia": "Georgia", "Georgia Southern": "Georgia",
            "Georgia State": "Georgia", "Georgia Tech": "Georgia", "Gonzaga": "Washington", "Grambling": "Louisiana",
            "Green Bay": "Wisconsin", "Hampton": "Virginia", "Hartford": "Connecticut", "Harvard": "Massachusetts",
            "Hawaii": "Hawaii", "High Point": "North Carolina", "Hofstra": "New York", "Holy Cross": "Massachusetts",
            "Houston": "Texas", "Houston Christian": "Texas", "Howard": "District of Columbia", "Idaho": "Idaho",
            "Idaho State": "Idaho", "Illinois": "Illinois", "Illinois State": "Illinois", "Incarnate Word": "Texas",
            "Indiana": "Indiana", "Indiana State": "Indiana", "Iona": "New York", "Iowa": "Iowa",
            "Iowa State": "Iowa", "IUPUI": "Indiana", "Jackson State": "Mississippi", "Jacksonville": "Florida",
            "James Madison": "Virginia", "Kansas": "Kansas", "Kansas City": "Missouri", "Kansas State": "Kansas",
            "Kennesaw State": "Georgia", "Kent State": "Ohio", "Kentucky": "Kentucky", "La Salle": "Pennsylvania",
            "Lafayette": "Pennsylvania", "Lamar": "Texas", "Le Moyne": "New York", "Lehigh": "Pennsylvania",
            "Liberty": "Virginia", "Lindenwood": "Missouri", "Lipscomb": "Tennessee", "LIU": "New York",
            "Louisiana": "Louisiana", "Louisiana Monroe": "Louisiana", "Louisiana Tech": "Louisiana",
            "Louisville": "Kentucky", "Loyola Chicago": "Illinois", "Loyola Marymount": "California",
            "Loyola Maryland": "Maryland", "LSU": "Louisiana", "Maine": "Maine", "Manhattan": "New York",
            "Marist": "New York", "Marquette": "Wisconsin", "Marshall": "West Virginia", "Maryland": "Maryland",
            "Massachusetts": "Massachusetts", "McNeese": "Louisiana", "Memphis": "Tennessee", "Mercer": "Georgia",
            "Merrimack": "Massachusetts", "Miami": "Florida", "Miami Ohio": "Ohio", "Michigan": "Michigan",
            "Michigan State": "Michigan", "Middle Tennessee": "Tennessee", "Minnesota": "Minnesota",
            "Mississippi State": "Mississippi", "Mississippi Valley State": "Mississippi", "Missouri": "Missouri",
            "Missouri State": "Missouri", "Monmouth": "New Jersey", "Montana": "Montana", "Montana State": "Montana",
            "Morehead State": "Kentucky", "Morgan State": "Maryland", "Mount St. Mary's": "Maryland",
            "Murray State": "Kentucky", "Navy": "Maryland", "Nebraska": "Nebraska", "Nevada": "Nevada",
            "New Hampshire": "New Hampshire", "New Mexico": "New Mexico", "New Mexico State": "New Mexico",
            "New Orleans": "Louisiana", "Niagara": "New York", "Nicholls": "Louisiana", "NJIT": "New Jersey",
            "Norfolk State": "Virginia", "North Alabama": "Alabama", "North Carolina": "North Carolina",
            "North Carolina A&T": "North Carolina", "North Carolina Central": "North Carolina",
            "North Carolina State": "North Carolina", "North Dakota": "North Dakota", "North Dakota State": "North Dakota",
            "North Florida": "Florida", "North Texas": "Texas", "Northeastern": "Massachusetts",
            "Northern Arizona": "Arizona", "Northern Colorado": "Colorado", "Northern Illinois": "Illinois",
            "Northern Iowa": "Iowa", "Northern Kentucky": "Kentucky", "Northwestern": "Illinois",
            "Northwestern State": "Louisiana", "Notre Dame": "Indiana", "Oakland": "Michigan", "Ohio": "Ohio",
            "Ohio State": "Ohio", "Oklahoma": "Oklahoma", "Oklahoma State": "Oklahoma", "Old Dominion": "Virginia",
            "Ole Miss": "Mississippi", "Omaha": "Nebraska", "Oral Roberts": "Oklahoma", "Oregon": "Oregon",
            "Oregon State": "Oregon", "Pacific": "California", "Penn": "Pennsylvania", "Penn State": "Pennsylvania",
            "Pepperdine": "California", "Pittsburgh": "Pennsylvania", "Portland": "Oregon", "Portland State": "Oregon",
            "Prairie View A&M": "Texas", "Presbyterian": "South Carolina", "Princeton": "New Jersey",
            "Providence": "Rhode Island", "Purdue": "Indiana", "Purdue Fort Wayne": "Indiana", "Queens": "North Carolina",
            "Quinnipiac": "Connecticut", "Radford": "Virginia", "Rhode Island": "Rhode Island", "Rice": "Texas",
            "Richmond": "Virginia", "Rider": "New Jersey", "Robert Morris": "Pennsylvania", "Rutgers": "New Jersey",
            "Sacramento State": "California", "Sacred Heart": "Connecticut", "Saint Francis": "Pennsylvania",
            "Saint Joseph's": "Pennsylvania", "Saint Louis": "Missouri", "Saint Mary's": "California",
            "Saint Peter's": "New Jersey", "Sam Houston": "Texas", "San Diego": "California",
            "San Diego State": "California", "San Francisco": "California", "San Jose State": "California",
            "Santa Clara": "California", "Seattle": "Washington", "Seton Hall": "New Jersey", "Siena": "New York",
            "SIU Edwardsville": "Illinois", "South Carolina": "South Carolina", "South Carolina State": "South Carolina",
            "South Carolina Upstate": "South Carolina", "South Dakota": "South Dakota", "South Dakota State": "South Dakota",
            "South Florida": "Florida", "Southeast Missouri State": "Missouri", "Southeastern Louisiana": "Louisiana",
            "Southern": "Louisiana", "Southern Illinois": "Illinois", "Southern Indiana": "Indiana",
            "Southern Miss": "Mississippi", "Southern Utah": "Utah", "St. Bonaventure": "New York",
            "St. Francis Brooklyn": "New York", "St. John's": "New York", "St. Thomas": "Minnesota",
            "Stanford": "California", "Stephen F. Austin": "Texas", "Stetson": "Florida", "Stonehill": "Massachusetts",
            "Stony Brook": "New York", "Syracuse": "New York", "Tarleton State": "Texas", "TCU": "Texas",
            "Temple": "Pennsylvania", "Tennessee": "Tennessee", "Tennessee Martin": "Tennessee",
            "Tennessee State": "Tennessee", "Tennessee Tech": "Tennessee", "Texas": "Texas", "Texas A&M": "Texas",
            "Texas A&M-Corpus Christi": "Texas", "Texas Southern": "Texas", "Texas State": "Texas",
            "Texas Tech": "Texas", "The Citadel": "South Carolina", "Toledo": "Ohio", "Towson": "Maryland",
            "Tulane": "Louisiana", "Tulsa": "Oklahoma", "UC Davis": "California", "UC Irvine": "California",
            "UC Riverside": "California", "UC San Diego": "California", "UC Santa Barbara": "California",
            "UCF": "Florida", "UCLA": "California", "UConn": "Connecticut", "UIC": "Illinois",
            "UMass Lowell": "Massachusetts", "UMBC": "Maryland", "UMKC": "Missouri", "UNC Asheville": "North Carolina",
            "UNC Greensboro": "North Carolina", "UNC Wilmington": "North Carolina", "UNLV": "Nevada",
            "USC": "California", "USC Upstate": "South Carolina", "UT Arlington": "Texas", "UT Martin": "Tennessee",
            "UT Rio Grande Valley": "Texas", "UTEP": "Texas", "UTSA": "Texas", "Utah": "Utah",
            "Utah State": "Utah", "Utah Tech": "Utah", "Utah Valley": "Utah", "Valparaiso": "Indiana",
            "Vanderbilt": "Tennessee", "VCU": "Virginia", "Vermont": "Vermont", "Villanova": "Pennsylvania",
            "Virginia": "Virginia", "Virginia Tech": "Virginia", "VMI": "Virginia", "Wagner": "New York",
            "Wake Forest": "North Carolina", "Washington": "Washington", "Washington State": "Washington",
            "Weber State": "Utah", "West Virginia": "West Virginia", "Western Carolina": "North Carolina",
            "Western Illinois": "Illinois", "Western Kentucky": "Kentucky", "Western Michigan": "Michigan",
            "Wichita State": "Kansas", "William & Mary": "Virginia", "Winthrop": "South Carolina",
            "Wisconsin": "Wisconsin", "Wofford": "South Carolina", "Wright State": "Ohio", "Wyoming": "Wyoming",
            "Xavier": "Ohio", "Yale": "Connecticut", "Youngstown State": "Ohio"
        };

        // Standard benefits package (typical NCAA D1)
        const standardBenefits = {
            healthInsurance: 12000,     // Annual health insurance value
            retirement401k: 0.06,       // 6% employer match
            lifeInsurance: 2000,        // Annual life insurance value
            disabilityInsurance: 1500,  // Annual disability insurance
            tuitionRemission: 15000     // Estimated value for family
        };

        // Initialize the tool
        function initializeTool() {
            populateSchoolDropdowns();
        }

        // Populate school dropdowns
        function populateSchoolDropdowns() {
            const school1Select = document.getElementById('school1');
            const school2Select = document.getElementById('school2');

            schools.forEach(school => {
                const option1 = document.createElement('option');
                option1.value = school;
                option1.textContent = school;
                school1Select.appendChild(option1);

                const option2 = document.createElement('option');
                option2.value = school;
                option2.textContent = school;
                school2Select.appendChild(option2);
            });
        }

        // Calculate comprehensive compensation breakdown
        function calculateCompensation(school, grossSalary) {
            const state = schoolToState[school] || "Texas"; // Default to Texas if not found
            const stateTax = stateData[state] || { taxRate: 0, col: 1.0 };
            
            // Federal tax (simplified progressive calculation for high earners)
            const federalTax = grossSalary * 0.37; // Top bracket
            
            // State tax
            const stateTaxAmount = grossSalary * stateTax.taxRate;
            
            // FICA (Social Security + Medicare, capped for SS)
            const socialSecurityCap = 160200;
            const socialSecurityTax = Math.min(grossSalary, socialSecurityCap) * 0.062;
            const medicareTax = grossSalary * 0.0145;
            const ficaTotal = socialSecurityTax + medicareTax;
            
            // Total taxes
            const totalTaxes = federalTax + stateTaxAmount + ficaTotal;
            
            // Retirement contribution (6% employer match)
            const retirementContribution = grossSalary * standardBenefits.retirement401k;
            
            // Total benefits value
            const totalBenefits = standardBenefits.healthInsurance + 
                                 standardBenefits.lifeInsurance + 
                                 standardBenefits.disabilityInsurance + 
                                 standardBenefits.tuitionRemission +
                                 retirementContribution;
            
            // Take home (after taxes)
            const takeHome = grossSalary - totalTaxes;
            
            // COL adjusted take home
            const colAdjustedTakeHome = takeHome / stateTax.col;
            
            return {
                grossSalary,
                federalTax,
                stateTax: stateTaxAmount,
                ficaTotal,
                totalTaxes,
                retirementContribution,
                totalBenefits,
                takeHome,
                colAdjustedTakeHome,
                state,
                colIndex: stateTax.col,
                stateTaxRate: stateTax.taxRate
            };
        }

        // Compare schools
        function compareSchools() {
            const school1 = document.getElementById('school1').value;
            const salary1 = parseFloat(document.getElementById('salary1').value);
            const school2 = document.getElementById('school2').value;
            const salary2 = parseFloat(document.getElementById('salary2').value);

            if (!school1 || !school2) {
                alert('Please select both schools.');
                return;
            }

            if (!salary1 || !salary2 || salary1 <= 0 || salary2 <= 0) {
                alert('Please enter valid salary amounts for both schools.');
                return;
            }

            const comp1 = calculateCompensation(school1, salary1);
            const comp2 = calculateCompensation(school2, salary2);

            displayComparison(school1, comp1, school2, comp2);
        }

        // Display comparison results
        function displayComparison(school1, comp1, school2, comp2) {
            const comparisonGrid = document.getElementById('comparisonGrid');
            
            comparisonGrid.innerHTML = `
                <div class="school-card">
                    <h3>${school1} (${comp1.state})</h3>
                    <div class="info-row">
                        <span class="info-label">Gross Salary:</span>
                        <span class="info-value salary-value">$${comp1.grossSalary.toLocaleString()}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Federal Tax:</span>
                        <span class="info-value">-$${comp1.federalTax.toLocaleString(undefined, {maximumFractionDigits: 0})}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">State Tax (${(comp1.stateTaxRate * 100).toFixed(1)}%):</span>
                        <span class="info-value">-$${comp1.stateTax.toLocaleString(undefined, {maximumFractionDigits: 0})}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">FICA:</span>
                        <span class="info-value">-$${comp1.ficaTotal.toLocaleString(undefined, {maximumFractionDigits: 0})}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Retirement (6%):</span>
                        <span class="info-value">+$${comp1.retirementContribution.toLocaleString(undefined, {maximumFractionDigits: 0})}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Total Benefits:</span>
                        <span class="info-value">+$${comp1.totalBenefits.toLocaleString(undefined, {maximumFractionDigits: 0})}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Take Home:</span>
                        <span class="info-value salary-value">$${comp1.takeHome.toLocaleString(undefined, {maximumFractionDigits: 0})}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">COL Adjusted (${comp1.colIndex.toFixed(2)}x):</span>
                        <span class="info-value salary-value">$${comp1.colAdjustedTakeHome.toLocaleString(undefined, {maximumFractionDigits: 0})}</span>
                    </div>
                </div>

                <div class="school-card">
                    <h3>${school2} (${comp2.state})</h3>
                    <div class="info-row">
                        <span class="info-label">Gross Salary:</span>
                        <span class="info-value salary-value">$${comp2.grossSalary.toLocaleString()}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Federal Tax:</span>
                        <span class="info-value">-$${comp2.federalTax.toLocaleString(undefined, {maximumFractionDigits: 0})}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">State Tax (${(comp2.stateTaxRate * 100).toFixed(1)}%):</span>
                        <span class="info-value">-$${comp2.stateTax.toLocaleString(undefined, {maximumFractionDigits: 0})}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">FICA:</span>
                        <span class="info-value">-$${comp2.ficaTotal.toLocaleString(undefined, {maximumFractionDigits: 0})}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Retirement (6%):</span>
                        <span class="info-value">+$${comp2.retirementContribution.toLocaleString(undefined, {maximumFractionDigits: 0})}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Total Benefits:</span>
                        <span class="info-value">+$${comp2.totalBenefits.toLocaleString(undefined, {maximumFractionDigits: 0})}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Take Home:</span>
                        <span class="info-value salary-value">$${comp2.takeHome.toLocaleString(undefined, {maximumFractionDigits: 0})}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">COL Adjusted (${comp2.colIndex.toFixed(2)}x):</span>
                        <span class="info-value salary-value">$${comp2.colAdjustedTakeHome.toLocaleString(undefined, {maximumFractionDigits: 0})}</span>
                    </div>
                </div>
            `;

            displayChart(school1, comp1, school2, comp2);
            displayAnalysis(school1, comp1, school2, comp2);

            const resultsPanel = document.getElementById('resultsPanel');
            resultsPanel.classList.add('active');
            resultsPanel.scrollIntoView({ behavior: 'smooth' });
        }

        // Display bar chart
        function displayChart(school1, comp1, school2, comp2) {
            const barChart = document.getElementById('barChart');
            const maxValue = Math.max(comp1.colAdjustedTakeHome, comp2.colAdjustedTakeHome);
            const height1 = (comp1.colAdjustedTakeHome / maxValue) * 250;
            const height2 = (comp2.colAdjustedTakeHome / maxValue) * 250;

            barChart.innerHTML = `
                <div class="bar" style="height: ${height1}px;">
                    <div style="margin-top: auto;">$${(comp1.colAdjustedTakeHome / 1000000).toFixed(2)}M</div>
                    <div class="bar-label">${school1} (COL Adj.)</div>
                </div>
                <div class="bar" style="height: ${height2}px;">
                    <div style="margin-top: auto;">$${(comp2.colAdjustedTakeHome / 1000000).toFixed(2)}M</div>
                    <div class="bar-label">${school2} (COL Adj.)</div>
                </div>
            `;
        }

        // Display analysis
        function displayAnalysis(school1, comp1, school2, comp2) {
            const analysisContent = document.getElementById('analysisContent');
            
            const grossDiff = Math.abs(comp1.grossSalary - comp2.grossSalary);
            const takeHomeDiff = Math.abs(comp1.takeHome - comp2.takeHome);
            const colAdjDiff = Math.abs(comp1.colAdjustedTakeHome - comp2.colAdjustedTakeHome);
            
            const betterGross = comp1.grossSalary > comp2.grossSalary ? school1 : school2;
            const betterTakeHome = comp1.takeHome > comp2.takeHome ? school1 : school2;
            const betterCOLAdj = comp1.colAdjustedTakeHome > comp2.colAdjustedTakeHome ? school1 : school2;

            analysisContent.innerHTML = `
                <div class="stat-card">
                    <h4>Gross Salary Comparison</h4>
                    <p>
                        ${betterGross} offers <span class="difference-positive">$${grossDiff.toLocaleString(undefined, {maximumFractionDigits: 0})}</span> 
                        more in gross salary (${((grossDiff / Math.min(comp1.grossSalary, comp2.grossSalary)) * 100).toFixed(1)}% difference).
                    </p>
                </div>

                <div class="stat-card">
                    <h4>Tax Impact</h4>
                    <p>
                        ${school1} pays <strong>$${comp1.totalTaxes.toLocaleString(undefined, {maximumFractionDigits: 0})}</strong> in total taxes, 
                        while ${school2} pays <strong>$${comp2.totalTaxes.toLocaleString(undefined, {maximumFractionDigits: 0})}</strong>.
                        Tax difference: <span class="${comp1.totalTaxes < comp2.totalTaxes ? 'difference-positive' : 'difference-negative'}">
                        $${Math.abs(comp1.totalTaxes - comp2.totalTaxes).toLocaleString(undefined, {maximumFractionDigits: 0})}</span>
                    </p>
                </div>

                <div class="stat-card">
                    <h4>Take Home Comparison</h4>
                    <p>
                        After taxes, ${betterTakeHome} provides <span class="difference-positive">$${takeHomeDiff.toLocaleString(undefined, {maximumFractionDigits: 0})}</span> 
                        more in take-home pay.
                    </p>
                </div>

                <div class="stat-card">
                    <h4>Cost of Living Adjusted Value</h4>
                    <p>
                        When adjusted for cost of living, ${betterCOLAdj} offers 
                        <span class="difference-positive">$${colAdjDiff.toLocaleString(undefined, {maximumFractionDigits: 0})}</span> 
                        more in real purchasing power. This is the most accurate comparison of actual value.
                    </p>
                </div>

                <div class="stat-card">
                    <h4>Benefits Package</h4>
                    <p>
                        Total benefits value including retirement, health insurance, and other perks: 
                        ${school1}: <strong>$${comp1.totalBenefits.toLocaleString(undefined, {maximumFractionDigits: 0})}</strong> | 
                        ${school2}: <strong>$${comp2.totalBenefits.toLocaleString(undefined, {maximumFractionDigits: 0})}</strong>
                    </p>
                </div>

                <div class="stat-card">
                    <h4>Bottom Line</h4>
                    <p>
                        ${betterCOLAdj} provides better value when considering salary, taxes, benefits, and cost of living. 
                        COL-adjusted take-home: ${betterCOLAdj === school1 ? 
                        `<strong>$${comp1.colAdjustedTakeHome.toLocaleString(undefined, {maximumFractionDigits: 0})}</strong>` : 
                        `<strong>$${comp2.colAdjustedTakeHome.toLocaleString(undefined, {maximumFractionDigits: 0})}</strong>`}
                    </p>
                </div>
            `;
        }

        // Reset comparison
        function resetComparison() {
            document.getElementById('school1').selectedIndex = 0;
            document.getElementById('school2').selectedIndex = 0;
            document.getElementById('salary1').value = '';
            document.getElementById('salary2').value = '';
            document.getElementById('resultsPanel').classList.remove('active');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Initialize on page load
        initializeTool();
    </script>
</body>
</html>
